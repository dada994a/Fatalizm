package we.devs.forever.client.modules.impl.exploit;

import net.minecraft.network.play.client.CPacketPlayer;
import we.devs.forever.client.modules.api.Module;
import we.devs.forever.client.setting.Setting;

public class LagBack extends Module {
    private final Setting<RubberMode> mode = (new Setting<>("Mode", RubberMode.Motion));
    private final Setting<Integer> Ym = (new Setting<>("Motion",1, -15, 15));//    public final Setting<Float> x = (new Setting<>("x", 1F, -1f, 1f, "Height for lagback"));
//    public final Setting<Float> z = (new Setting<>("z", 1F, -1f, 1f, "Height for lagback"));

    public LagBack() {
        super("LagBack", "Teleports u to the latest ground pos.", Category.EXPLOIT);
    }
    @SuppressWarnings("all")
    @Override
    public void onUpdate() {
        switch (mode.getValue()) {
            case Motion: {
                mc.player.motionY = Ym.getValue();
                break;
            }
            case Packet: {
                mc.getConnection().sendPacket(new CPacketPlayer.Position(mc.player.posX, mc.player.posY + Ym.getValue(), mc.player.posZ, true));
                break;
            }
            case Teleport: {
                mc.player.setPositionAndUpdate(mc.player.posX, mc.player.posY + Ym.getValue(), mc.player.posZ);
            }
        }
        toggle();
    }

    public  enum RubberMode {
        Motion,
        Teleport,
        Packet;

    }


}